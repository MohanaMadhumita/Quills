### Makefile for the Multiplierer project
### Generated by Bluespec Workstation on Wed Apr  3 10:43:39 IST 2019

default: compile link simulate clean
# comment the flag for use of operations that are required for fused operations
#BSC_COMPILATION_FLAGS += \
#		 -D PositCore_AM
BSC_COMPILATION_FLAGS += \
 		 -D RV32   \
 		 -D ISA_F  \
		 -D POSIT \
		 -D INCLUDE_PDIV \
		 -D STANDALONE \
		 -D ACCEL \

.PHONY: compile
compile:
	@echo Compiling...
	mkdir -p build
	bsc -u -sim -simdir build -bdir build -info-dir build $(BSC_COMPILATION_FLAGS) -keep-fires -aggressive-conditions -p .:%/Prelude:%/Libraries:%/Libraries/BlueNoC:./common:./Fused_Op:./lib:./FtoP:./QtoP:./PtoF:./PtoQ -g mkTestbench  Testbench_accel.bsv 
	@echo Compilation finished

.PHONY: link
link:
	@echo Linking...
	bsc -e mkTestbench -sim -o build/out -simdir build -p .:%/Prelude:%/Libraries:%/Libraries/BlueNoC:. -bdir build $(BSC_COMPILATION_FLAGS) -keep-fires -aggressive-conditions 
	@echo Linking finished

.PHONY: simulate
simulate:
	@echo Simulation...
	build/out 
	@echo Simulation finished

.PHONY: clean
clean:
	rm -r build

.PHONY: full_clean
full_clean:
